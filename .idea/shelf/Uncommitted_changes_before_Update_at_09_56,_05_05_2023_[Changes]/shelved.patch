Index: .idea/shelf/Uncommitted_changes_before_Update_at_12_08__27_04_2023__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_12_08__27_04_2023__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_12_08__27_04_2023__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_12_08__27_04_2023__Changes_.xml	(revision 23b7d283528d96e41405a7fc2be93931e3e7969c)
+++ /dev/null	(revision 23b7d283528d96e41405a7fc2be93931e3e7969c)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_12_08,_27_04_2023_[Changes]" date="1682572124331" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_12_08,_27_04_2023_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 12:08, 27/04/2023 [Changes]" />
-</changelist>
\ No newline at end of file
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"AutoImportSettings\">\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\n  </component>\n  <component name=\"ChangeListManager\">\n    <list default=\"true\" id=\"9dba3307-80d4-41ec-b1eb-07eb872475c4\" name=\"Changes\" comment=\"fix button icon\">\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/FE/src/utils/axios.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/FE/src/utils/axios.js\" afterDir=\"false\" />\n    </list>\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\n  </component>\n  <component name=\"ComposerSettings\">\n    <execution />\n  </component>\n  <component name=\"Git.Settings\">\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\n      <map>\n        <entry key=\"$PROJECT_DIR$\" value=\"develop\" />\n      </map>\n    </option>\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\n  </component>\n  <component name=\"MarkdownSettingsMigration\">\n    <option name=\"stateVersion\" value=\"1\" />\n  </component>\n  <component name=\"ProjectId\" id=\"2OGNb67oO9I9quEPV5Pf8hcEhLO\" />\n  <component name=\"ProjectViewState\">\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\n    <option name=\"showLibraryContents\" value=\"true\" />\n  </component>\n  <component name=\"PropertiesComponent\">{\n  &quot;keyToString&quot;: {\n    &quot;RunOnceActivity.OpenProjectViewOnStart&quot;: &quot;true&quot;,\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\n    &quot;WebServerToolWindowFactoryState&quot;: &quot;false&quot;,\n    &quot;last_opened_file_path&quot;: &quot;/home/chung/Android/UI/healthy-app&quot;,\n    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,\n    &quot;node.js.detected.package.tslint&quot;: &quot;true&quot;,\n    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,\n    &quot;node.js.selected.package.tslint&quot;: &quot;(autodetect)&quot;,\n    &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,\n    &quot;ts.external.directory.path&quot;: &quot;/home/chung/Downloads/ideaIU-2022.3.2/idea-IU-223.8617.56/plugins/javascript-impl/jsLanguageServicesImpl/external&quot;,\n    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;\n  }\n}</component>\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\n  <component name=\"TaskManager\">\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\n      <changelist id=\"9dba3307-80d4-41ec-b1eb-07eb872475c4\" name=\"Changes\" comment=\"\" />\n      <created>1681183026669</created>\n      <option name=\"number\" value=\"Default\" />\n      <option name=\"presentableId\" value=\"Default\" />\n      <updated>1681183026669</updated>\n      <workItem from=\"1681183027846\" duration=\"8604000\" />\n      <workItem from=\"1681291726804\" duration=\"18973000\" />\n      <workItem from=\"1681360362872\" duration=\"1534000\" />\n      <workItem from=\"1681394801400\" duration=\"2529000\" />\n      <workItem from=\"1681413012023\" duration=\"603000\" />\n      <workItem from=\"1681414733205\" duration=\"285000\" />\n      <workItem from=\"1681551012774\" duration=\"4000\" />\n      <workItem from=\"1681551074125\" duration=\"3000\" />\n      <workItem from=\"1682150781825\" duration=\"403000\" />\n      <workItem from=\"1682151189052\" duration=\"99000\" />\n      <workItem from=\"1682151291933\" duration=\"2154000\" />\n      <workItem from=\"1682188888863\" duration=\"342000\" />\n      <workItem from=\"1682220199084\" duration=\"23000\" />\n      <workItem from=\"1682572013791\" duration=\"1487000\" />\n      <workItem from=\"1682652510382\" duration=\"4373000\" />\n      <workItem from=\"1682740327166\" duration=\"1894000\" />\n      <workItem from=\"1682760079980\" duration=\"1152000\" />\n      <workItem from=\"1682829626902\" duration=\"676000\" />\n      <workItem from=\"1682939524165\" duration=\"3000\" />\n      <workItem from=\"1683134238268\" duration=\"443000\" />\n      <workItem from=\"1683168398913\" duration=\"2172000\" />\n      <workItem from=\"1683176029535\" duration=\"90000\" />\n    </task>\n    <task id=\"LOCAL-00001\" summary=\"particle speed machine\">\n      <created>1681327312222</created>\n      <option name=\"number\" value=\"00001\" />\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1681327312222</updated>\n    </task>\n    <task id=\"LOCAL-00002\" summary=\"particle speed machine\">\n      <created>1681360389318</created>\n      <option name=\"number\" value=\"00002\" />\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1681360389318</updated>\n    </task>\n    <task id=\"LOCAL-00003\" summary=\"step counter v1.1\">\n      <created>1682153984132</created>\n      <option name=\"number\" value=\"00003\" />\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1682153984132</updated>\n    </task>\n    <task id=\"LOCAL-00004\" summary=\"save steps current day sqlite\">\n      <created>1682188941857</created>\n      <option name=\"number\" value=\"00004\" />\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1682188941857</updated>\n    </task>\n    <task id=\"LOCAL-00005\" summary=\"refactor struct table step sqlite\">\n      <created>1682699935358</created>\n      <option name=\"number\" value=\"00005\" />\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1682699935358</updated>\n    </task>\n    <task id=\"LOCAL-00006\" summary=\"set timezone table step\">\n      <created>1682741052451</created>\n      <option name=\"number\" value=\"00006\" />\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1682741052451</updated>\n    </task>\n    <task id=\"LOCAL-00007\" summary=\"set timezone table step\">\n      <created>1682760625503</created>\n      <option name=\"number\" value=\"00007\" />\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1682760625503</updated>\n    </task>\n    <task id=\"LOCAL-00008\" summary=\"analyst steps by month and year\">\n      <created>1682829651678</created>\n      <option name=\"number\" value=\"00008\" />\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1682829651678</updated>\n    </task>\n    <task id=\"LOCAL-00009\" summary=\"custom line chart of step\">\n      <created>1683134375945</created>\n      <option name=\"number\" value=\"00009\" />\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1683134375945</updated>\n    </task>\n    <task id=\"LOCAL-00010\" summary=\"custom login\">\n      <created>1683172905685</created>\n      <option name=\"number\" value=\"00010\" />\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1683172905685</updated>\n    </task>\n    <task id=\"LOCAL-00011\" summary=\"fix logo google\">\n      <created>1683174460848</created>\n      <option name=\"number\" value=\"00011\" />\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1683174460848</updated>\n    </task>\n    <task id=\"LOCAL-00012\" summary=\"ui login version 2\">\n      <created>1683175734734</created>\n      <option name=\"number\" value=\"00012\" />\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1683175734734</updated>\n    </task>\n    <task id=\"LOCAL-00013\" summary=\"fix button icon\">\n      <created>1683176038658</created>\n      <option name=\"number\" value=\"00013\" />\n      <option name=\"presentableId\" value=\"LOCAL-00013\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1683176038658</updated>\n    </task>\n    <option name=\"localTasksCounter\" value=\"14\" />\n    <servers />\n  </component>\n  <component name=\"TypeScriptGeneratedFilesManager\">\n    <option name=\"version\" value=\"3\" />\n  </component>\n  <component name=\"Vcs.Log.Tabs.Properties\">\n    <option name=\"TAB_STATES\">\n      <map>\n        <entry key=\"MAIN\">\n          <value>\n            <State />\n          </value>\n        </entry>\n      </map>\n    </option>\n  </component>\n  <component name=\"VcsManagerConfiguration\">\n    <MESSAGE value=\"particle speed machine\" />\n    <MESSAGE value=\"step counter v1.1\" />\n    <MESSAGE value=\"save steps current day sqlite\" />\n    <MESSAGE value=\"refactor struct table step sqlite\" />\n    <MESSAGE value=\"set timezone table step\" />\n    <MESSAGE value=\"analyst steps by month and year\" />\n    <MESSAGE value=\"custom line chart of step\" />\n    <MESSAGE value=\"custom login\" />\n    <MESSAGE value=\"fix logo google\" />\n    <MESSAGE value=\"ui login version 2\" />\n    <MESSAGE value=\"fix button icon\" />\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"fix button icon\" />\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 23b7d283528d96e41405a7fc2be93931e3e7969c)
+++ b/.idea/workspace.xml	(date 1683221072836)
@@ -4,8 +4,10 @@
     <option name="autoReloadType" value="SELECTIVE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="9dba3307-80d4-41ec-b1eb-07eb872475c4" name="Changes" comment="fix button icon">
+    <list default="true" id="9dba3307-80d4-41ec-b1eb-07eb872475c4" name="Changes" comment="add loading provider">
+      <change beforePath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_12_08__27_04_2023__Changes_.xml" beforeDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/FE/src/screens/Practice/Exercises/Item/index.js" beforeDir="false" afterPath="$PROJECT_DIR$/FE/src/screens/Practice/Exercises/Item/index.js" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/FE/src/utils/axios.js" beforeDir="false" afterPath="$PROJECT_DIR$/FE/src/utils/axios.js" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
@@ -77,6 +79,7 @@
       <workItem from="1683134238268" duration="443000" />
       <workItem from="1683168398913" duration="2172000" />
       <workItem from="1683176029535" duration="90000" />
+      <workItem from="1683200641729" duration="3088000" />
     </task>
     <task id="LOCAL-00001" summary="particle speed machine">
       <created>1681327312222</created>
@@ -169,7 +172,14 @@
       <option name="project" value="LOCAL" />
       <updated>1683176038658</updated>
     </task>
-    <option name="localTasksCounter" value="14" />
+    <task id="LOCAL-00014" summary="add loading provider">
+      <created>1683200704849</created>
+      <option name="number" value="00014" />
+      <option name="presentableId" value="LOCAL-00014" />
+      <option name="project" value="LOCAL" />
+      <updated>1683200704849</updated>
+    </task>
+    <option name="localTasksCounter" value="15" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
@@ -198,6 +208,7 @@
     <MESSAGE value="fix logo google" />
     <MESSAGE value="ui login version 2" />
     <MESSAGE value="fix button icon" />
-    <option name="LAST_COMMIT_MESSAGE" value="fix button icon" />
+    <MESSAGE value="add loading provider" />
+    <option name="LAST_COMMIT_MESSAGE" value="add loading provider" />
   </component>
 </project>
\ No newline at end of file
Index: FE/src/screens/Heathy/Home/index.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React, { useState, useEffect, useRef, memo, useMemo } from \"react\";\nimport { ScrollView, TouchableOpacity, View } from \"react-native\";\nimport CustomText from \"../../../components/CustomText\";\nimport Layout from \"../../../layouts/Layout\";\nimport styles from \"./styles\";\nimport WorkoutRecord from \"./NavigationItem/WorkoutRecord\";\nimport Target from \"./NavigationItem/Target\";\nimport Sleep from \"./NavigationItem/Sleep\";\nimport IBMIndex from \"./NavigationItem/IBMIndex\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { Accelerometer } from \"expo-sensors\";\nimport moment from \"moment\";\nimport {\n  createTableSteps,\n  insertStep,\n  getSteps,\n  droptTable,\n  countStepOfDay,\n  getStepByDate,\n} from \"../../../data/stepCounter\";\nimport * as SQLite from \"expo-sqlite\";\n\nexport default Home = memo(() => {\n  const navigation = useNavigation();\n  const [subscription, setSubscription] = useState(null);\n\n  const useForceUpdate = () => {\n    const [, setState] = useState();\n    return () => setState({});\n  };\n\n  const forceUpdate = useForceUpdate();\n  const steps = useRef(0);\n\n  const _slow = () => {\n    Accelerometer.setUpdateInterval(30);\n  };\n\n  _slow();\n\n  const _subscribe = async () => {\n    let mArray = [];\n    let start = false;\n    let peak = false;\n    let valuePeak = 9.81;\n    let magnitudePrev = 9.81;\n    let magnitudeMiddle = 9.81;\n    setSubscription(\n      Accelerometer.addListener((data) => {\n        const x = data.x;\n        const y = data.y;\n        const z = data.z;\n        const magnitude = 9.81 * Math.sqrt(x * x + y * y + z * z);\n\n        if (start === false) {\n          if (magnitudePrev + 0.5 < magnitudeMiddle) {\n            start = true;\n            mArray.push(magnitudePrev);\n            mArray.push(magnitudeMiddle);\n          }\n        }\n\n        if (start === true) {\n          mArray.push(magnitude);\n          if (\n            peak === false &&\n            magnitudePrev < magnitudeMiddle &&\n            magnitudeMiddle > magnitude\n          ) {\n            peak = true;\n            valuePeak = magnitudeMiddle;\n          }\n\n          if (peak === true && magnitudeMiddle > magnitude) {\n            start = false;\n            peak = false;\n            if (valuePeak - mArray[0] > 4) {\n              console.log(mArray);\n              steps.current += 1;\n              insertStep(valuePeak - mArray[0]);\n              magnitudePrev = magnitudeMiddle;\n              magnitudeMiddle = magnitude;\n              mArray = [];\n              forceUpdate();\n            } else {\n              start = false;\n              peak = false;\n              valuePeak = 9.81;\n              mArray = [];\n            }\n          }\n        }\n        magnitudePrev = magnitudeMiddle;\n        magnitudeMiddle = magnitude;\n      })\n    );\n  };\n\n  const _unsubscribe = () => {\n    subscription && subscription.remove();\n    setSubscription(null);\n  };\n  useEffect(() => {\n    createTableSteps();\n    const getResult = async () => {\n      const count = await countStepOfDay();\n      steps.current = count;\n      forceUpdate();\n    };\n    getResult();\n  }, []);\n\n  useEffect(() => {\n    _subscribe();\n    return () => _unsubscribe();\n    //getSteps();\n    //droptTable(\"steps\");\n  }, []);\n\n  return (\n    <Layout>\n      <View style={styles.container}>\n        <CustomText style={[styles.title]} fontFamily=\"NunitoSans-SemiBold\">\n          Sức khỏe\n        </CustomText>\n\n        <View style={styles.topContainer}>\n          <View>\n            <TouchableOpacity\n              style={styles.topCircle}\n              onPress={() => navigation.navigate(\"Footsteps\")}\n              activeOpacity={1}\n            >\n              <CustomText style={[{ color: \"white\" }]}>\n                {steps.current}\n              </CustomText>\n              <CustomText style={[{ color: \"white\" }]}>bước</CustomText>\n            </TouchableOpacity>\n\n            <CustomText style={[{ color: \"white\", textAlign: \"center\" }]}>\n              1.0 Km\n            </CustomText>\n          </View>\n          <View>\n            <TouchableOpacity\n              style={styles.topCircle}\n              onPress={() => {}}\n              activeOpacity={1}\n            >\n              <CustomText style={[{ color: \"white\" }]}>--</CustomText>\n              <CustomText style={[{ color: \"white\" }]}>phút</CustomText>\n            </TouchableOpacity>\n            <CustomText style={[{ color: \"white\", textAlign: \"center\" }]}>\n              0 kcal\n            </CustomText>\n          </View>\n        </View>\n\n        <ScrollView\n          style={{\n            margin: -16,\n          }}\n          showsVerticalScrollIndicator={false}\n          contentContainerStyle={{ padding: 16 }}\n        >\n          <View style={{ marginBottom: 16, flexDirection: \"row\" }}>\n            <WorkoutRecord distance={2.86} />\n            <Target />\n          </View>\n          <View style={{ marginBottom: 16, flexDirection: \"row\" }}>\n            <Sleep />\n            <IBMIndex IBMValue={32.25} IBMDescription=\"Hơi béo\" />\n          </View>\n        </ScrollView>\n      </View>\n    </Layout>\n  );\n});\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FE/src/screens/Heathy/Home/index.js b/FE/src/screens/Heathy/Home/index.js
--- a/FE/src/screens/Heathy/Home/index.js	(revision 23b7d283528d96e41405a7fc2be93931e3e7969c)
+++ b/FE/src/screens/Heathy/Home/index.js	(date 1683254932757)
@@ -1,4 +1,4 @@
-import React, { useState, useEffect, useRef, memo, useMemo } from "react";
+import React, { memo } from "react";
 import { ScrollView, TouchableOpacity, View } from "react-native";
 import CustomText from "../../../components/CustomText";
 import Layout from "../../../layouts/Layout";
@@ -7,115 +7,10 @@
 import Target from "./NavigationItem/Target";
 import Sleep from "./NavigationItem/Sleep";
 import IBMIndex from "./NavigationItem/IBMIndex";
-import { useNavigation } from "@react-navigation/native";
-import { Accelerometer } from "expo-sensors";
-import moment from "moment";
-import {
-  createTableSteps,
-  insertStep,
-  getSteps,
-  droptTable,
-  countStepOfDay,
-  getStepByDate,
-} from "../../../data/stepCounter";
-import * as SQLite from "expo-sqlite";
+import { useStep } from "../../../providers/StepProvider";
 
 export default Home = memo(() => {
-  const navigation = useNavigation();
-  const [subscription, setSubscription] = useState(null);
-
-  const useForceUpdate = () => {
-    const [, setState] = useState();
-    return () => setState({});
-  };
-
-  const forceUpdate = useForceUpdate();
-  const steps = useRef(0);
-
-  const _slow = () => {
-    Accelerometer.setUpdateInterval(30);
-  };
-
-  _slow();
-
-  const _subscribe = async () => {
-    let mArray = [];
-    let start = false;
-    let peak = false;
-    let valuePeak = 9.81;
-    let magnitudePrev = 9.81;
-    let magnitudeMiddle = 9.81;
-    setSubscription(
-      Accelerometer.addListener((data) => {
-        const x = data.x;
-        const y = data.y;
-        const z = data.z;
-        const magnitude = 9.81 * Math.sqrt(x * x + y * y + z * z);
-
-        if (start === false) {
-          if (magnitudePrev + 0.5 < magnitudeMiddle) {
-            start = true;
-            mArray.push(magnitudePrev);
-            mArray.push(magnitudeMiddle);
-          }
-        }
-
-        if (start === true) {
-          mArray.push(magnitude);
-          if (
-            peak === false &&
-            magnitudePrev < magnitudeMiddle &&
-            magnitudeMiddle > magnitude
-          ) {
-            peak = true;
-            valuePeak = magnitudeMiddle;
-          }
-
-          if (peak === true && magnitudeMiddle > magnitude) {
-            start = false;
-            peak = false;
-            if (valuePeak - mArray[0] > 4) {
-              console.log(mArray);
-              steps.current += 1;
-              insertStep(valuePeak - mArray[0]);
-              magnitudePrev = magnitudeMiddle;
-              magnitudeMiddle = magnitude;
-              mArray = [];
-              forceUpdate();
-            } else {
-              start = false;
-              peak = false;
-              valuePeak = 9.81;
-              mArray = [];
-            }
-          }
-        }
-        magnitudePrev = magnitudeMiddle;
-        magnitudeMiddle = magnitude;
-      })
-    );
-  };
-
-  const _unsubscribe = () => {
-    subscription && subscription.remove();
-    setSubscription(null);
-  };
-  useEffect(() => {
-    createTableSteps();
-    const getResult = async () => {
-      const count = await countStepOfDay();
-      steps.current = count;
-      forceUpdate();
-    };
-    getResult();
-  }, []);
-
-  useEffect(() => {
-    _subscribe();
-    return () => _unsubscribe();
-    //getSteps();
-    //droptTable("steps");
-  }, []);
+  const { steps } = useStep();
 
   return (
     <Layout>
Index: uiserver/models/syncedstep.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>'use strict';\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class SyncedStep extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      // define association here\n    }\n  }\n  SyncedStep.init({\n    id: DataTypes.INTEGER,\n    user_id: DataTypes.INTEGER,\n    date: DataTypes.DATE,\n    value: DataTypes.INTEGER,\n    type: DataTypes.INTEGER,\n  }, {\n    sequelize,\n    modelName: 'SyncedStep',\n    tableName: 'syncedsteps'\n  });\n  return SyncedStep;\n};
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/uiserver/models/syncedstep.js b/uiserver/models/syncedstep.js
--- a/uiserver/models/syncedstep.js	(revision 23b7d283528d96e41405a7fc2be93931e3e7969c)
+++ b/uiserver/models/syncedstep.js	(date 1683216002075)
@@ -1,7 +1,5 @@
-'use strict';
-const {
-  Model
-} = require('sequelize');
+"use strict";
+const { Model } = require("sequelize");
 module.exports = (sequelize, DataTypes) => {
   class SyncedStep extends Model {
     /**
@@ -13,16 +11,23 @@
       // define association here
     }
   }
-  SyncedStep.init({
-    id: DataTypes.INTEGER,
-    user_id: DataTypes.INTEGER,
-    date: DataTypes.DATE,
-    value: DataTypes.INTEGER,
-    type: DataTypes.INTEGER,
-  }, {
-    sequelize,
-    modelName: 'SyncedStep',
-    tableName: 'syncedsteps'
-  });
+  SyncedStep.init(
+    {
+      id: {
+        allowNull: false,
+        primaryKey: true,
+        type: DataTypes.INTEGER,
+      },
+      user_id: DataTypes.INTEGER,
+      date: DataTypes.DATE,
+      value: DataTypes.INTEGER,
+      type: DataTypes.INTEGER,
+    },
+    {
+      sequelize,
+      modelName: "SyncedStep",
+      tableName: "syncedsteps",
+    }
+  );
   return SyncedStep;
-};
\ No newline at end of file
+};
Index: FE/src/utils/axios.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL: \"http://10.0.2.2:5000\",\n});\n\ninstance.interceptors.request.use(\n  (config) => {\n    // const token = localStorage.getItem(\"token\");\n    // if (token) {\n    //   config.headers.Authorization = \"Bearer \" + token;\n    // }\n\n    config.headers = {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    };\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  },\n);\n\ninstance.interceptors.response.use((response) => {\n  if (response.status === 204) {\n    return true;\n  }\n  return response.data;\n});\n\nexport default instance;\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FE/src/utils/axios.js b/FE/src/utils/axios.js
--- a/FE/src/utils/axios.js	(revision 23b7d283528d96e41405a7fc2be93931e3e7969c)
+++ b/FE/src/utils/axios.js	(date 1683204578358)
@@ -1,7 +1,8 @@
 import axios from "axios";
 
 const instance = axios.create({
-  baseURL: "http://10.0.2.2:5000",
+  baseURL: "http://192.168.1.3:5000",
+  // baseURL: "http://10.0.2.2:5000",
 });
 
 instance.interceptors.request.use(
@@ -19,7 +20,7 @@
   },
   (error) => {
     return Promise.reject(error);
-  },
+  }
 );
 
 instance.interceptors.response.use((response) => {
Index: FE/src/screens/User/Actions.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import { StyleSheet, View } from \"react-native\";\nimport UserButton from \"../../components/UserButton\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { droptTable } from \"../../data/user\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../providers/AuthProvider\";\nimport { GoogleSignin } from \"@react-native-google-signin/google-signin\";\nimport { unregisterLocationTask } from \"../../utils/locationTask\";\n\nexport default function Actions() {\n  const navigation = useNavigation();\n  const { setAuthUser } = useContext(AuthContext);\n  const handleSync = () => {};\n\n  const handleSignOut = async () => {\n    droptTable(\"auth_users\");\n    setAuthUser(null);\n    if (GoogleSignin.isSignedIn) {\n      await GoogleSignin.signOut();\n    }\n    unregisterLocationTask();\n    droptTable(\"locations\");\n    navigation.push(\"Login\");\n  };\n  return (\n    <View style={styles.container}>\n      <UserButton content={\"Đồng bộ\"} onPress={handleSync} />\n      <UserButton content={\"Đăng xuất\"} onPress={handleSignOut} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    marginHorizontal: \"4%\",\n    height: 160,\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n  },\n});\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FE/src/screens/User/Actions.js b/FE/src/screens/User/Actions.js
--- a/FE/src/screens/User/Actions.js	(revision 23b7d283528d96e41405a7fc2be93931e3e7969c)
+++ b/FE/src/screens/User/Actions.js	(date 1683254173435)
@@ -6,11 +6,14 @@
 import { AuthContext } from "../../providers/AuthProvider";
 import { GoogleSignin } from "@react-native-google-signin/google-signin";
 import { unregisterLocationTask } from "../../utils/locationTask";
+import { createTableLocations } from "../../data/lastSync";
 
 export default function Actions() {
   const navigation = useNavigation();
   const { setAuthUser } = useContext(AuthContext);
-  const handleSync = () => {};
+  const handleSync = () => {
+    createTableLocations();
+  };
 
   const handleSignOut = async () => {
     droptTable("auth_users");
Index: uiserver/routes/users.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>var express = require(\"express\");\nvar router = express.Router();\nvar { User } = require(\"../models\");\nconst SyncedStep = require('../models/syncedstep');\n\n/* GET user by user_id. */\nrouter.get(\"/\", function (req, res, next) {\n  res.send(\"respond with a resource\");\n});\n\nrouter.post(\"/login\", async (req, res) => {\n  try {\n    const reqBody = req.body;\n    let checkUser = await User.findOne({\n      where: {\n        uid: reqBody.uid,\n      },\n    });\n    let isTheFirst = false;\n    if (!checkUser) {\n      checkUser = await User.create({\n        ...reqBody,\n        createdAt: Date.now(),\n        updatedAt: Date.now(),\n      });\n      isTheFirst = true;\n    }\n    res.json({ success: 1, data: checkUser, isTheFirst });\n  } catch (error) {\n    res.json({ success: 0, message: error.message });\n  }\n});\n\nroute.post('/sync', async (req, res) => {\n  req.steps.map(element => element[\"user_id\"] = req.id);\n  const result = await FootStep.bulkCreate(req.steps, {updateOnDuplicate: true});\n  if(result) {\n    res.json({success: 1, message: 'data synced'});\n  }\n})\n\nmodule.exports = router;\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/uiserver/routes/users.js b/uiserver/routes/users.js
--- a/uiserver/routes/users.js	(revision 23b7d283528d96e41405a7fc2be93931e3e7969c)
+++ b/uiserver/routes/users.js	(date 1683215998251)
@@ -1,7 +1,7 @@
 var express = require("express");
 var router = express.Router();
 var { User } = require("../models");
-const SyncedStep = require('../models/syncedstep');
+const SyncedStep = require("../models/syncedstep");
 
 /* GET user by user_id. */
 router.get("/", function (req, res, next) {
@@ -31,12 +31,14 @@
   }
 });
 
-route.post('/sync', async (req, res) => {
-  req.steps.map(element => element["user_id"] = req.id);
-  const result = await FootStep.bulkCreate(req.steps, {updateOnDuplicate: true});
-  if(result) {
-    res.json({success: 1, message: 'data synced'});
+router.post("/sync", async (req, res) => {
+  req.steps.map((element) => (element["user_id"] = req.id));
+  const result = await FootStep.bulkCreate(req.steps, {
+    updateOnDuplicate: true,
+  });
+  if (result) {
+    res.json({ success: 1, message: "data synced" });
   }
-})
+});
 
 module.exports = router;
Index: FE/App.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import { NavigationContainer } from \"@react-navigation/native\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport Home from \"./src/screens/Heathy/Home\";\nimport TargetsSetting from \"./src/screens/Heathy/TargetsSetting\";\nimport WorkoutRecord from \"./src/screens/Heathy/WorkoutRecord\";\nimport Practice from \"./src/screens/Practice\";\nimport User from \"./src/screens/User\";\nimport Login from \"./src/screens/Auth/Login\";\nimport Footsteps from \"./src/screens/Heathy/Footsteps\";\nimport Exercises from \"./src/screens/Practice/Exercises\";\nimport Detail from \"./src/screens/Practice/Exercises/Detail\";\nimport BMISetting from \"./src/screens/Auth/BMISetting\";\nimport DefaultTargetSetting from \"./src/screens/Auth/DefaultTargetSetting\";\nimport AuthProvider from \"./src/providers/AuthProvider\";\nimport { LoadingProvider } from \"./src/providers/LoadingProvider\";\n\nconst Stack = createNativeStackNavigator();\n\nexport default function App() {\n  return (\n    <NavigationContainer>\n      <LoadingProvider>\n        <AuthProvider>\n          <Stack.Navigator\n            screenOptions={{\n              headerShown: false,\n            }}\n            initialRouteName=\"Login\"\n          >\n            <Stack.Screen name=\"BMISetting\" component={BMISetting} />\n            <Stack.Screen\n              name=\"DefaultTargetSetting\"\n              component={DefaultTargetSetting}\n            />\n            <Stack.Screen name=\"Home\" component={Home} />\n            <Stack.Screen name=\"WorkoutRecord\" component={WorkoutRecord} />\n            <Stack.Screen name=\"TargetsSetting\" component={TargetsSetting} />\n            <Stack.Screen name=\"Practice\" component={Practice} />\n            <Stack.Screen name=\"User\" component={User} />\n            <Stack.Screen name=\"Login\" component={Login} />\n            <Stack.Screen name=\"Footsteps\" component={Footsteps} />\n            <Stack.Screen name=\"Exercises\" component={Exercises} />\n            <Stack.Screen name=\"Video\" component={Detail} />\n          </Stack.Navigator>\n        </AuthProvider>\n      </LoadingProvider>\n    </NavigationContainer>\n  );\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FE/App.js b/FE/App.js
--- a/FE/App.js	(revision 23b7d283528d96e41405a7fc2be93931e3e7969c)
+++ b/FE/App.js	(date 1683254746085)
@@ -13,6 +13,7 @@
 import DefaultTargetSetting from "./src/screens/Auth/DefaultTargetSetting";
 import AuthProvider from "./src/providers/AuthProvider";
 import { LoadingProvider } from "./src/providers/LoadingProvider";
+import { StepProvider } from "./src/providers/StepProvider";
 
 const Stack = createNativeStackNavigator();
 
@@ -21,27 +22,29 @@
     <NavigationContainer>
       <LoadingProvider>
         <AuthProvider>
-          <Stack.Navigator
-            screenOptions={{
-              headerShown: false,
-            }}
-            initialRouteName="Login"
-          >
-            <Stack.Screen name="BMISetting" component={BMISetting} />
-            <Stack.Screen
-              name="DefaultTargetSetting"
-              component={DefaultTargetSetting}
-            />
-            <Stack.Screen name="Home" component={Home} />
-            <Stack.Screen name="WorkoutRecord" component={WorkoutRecord} />
-            <Stack.Screen name="TargetsSetting" component={TargetsSetting} />
-            <Stack.Screen name="Practice" component={Practice} />
-            <Stack.Screen name="User" component={User} />
-            <Stack.Screen name="Login" component={Login} />
-            <Stack.Screen name="Footsteps" component={Footsteps} />
-            <Stack.Screen name="Exercises" component={Exercises} />
-            <Stack.Screen name="Video" component={Detail} />
-          </Stack.Navigator>
+          <StepProvider>
+            <Stack.Navigator
+              screenOptions={{
+                headerShown: false,
+              }}
+              initialRouteName="Login"
+            >
+              <Stack.Screen name="BMISetting" component={BMISetting} />
+              <Stack.Screen
+                name="DefaultTargetSetting"
+                component={DefaultTargetSetting}
+              />
+              <Stack.Screen name="Home" component={Home} />
+              <Stack.Screen name="WorkoutRecord" component={WorkoutRecord} />
+              <Stack.Screen name="TargetsSetting" component={TargetsSetting} />
+              <Stack.Screen name="Practice" component={Practice} />
+              <Stack.Screen name="User" component={User} />
+              <Stack.Screen name="Login" component={Login} />
+              <Stack.Screen name="Footsteps" component={Footsteps} />
+              <Stack.Screen name="Exercises" component={Exercises} />
+              <Stack.Screen name="Video" component={Detail} />
+            </Stack.Navigator>
+          </StepProvider>
         </AuthProvider>
       </LoadingProvider>
     </NavigationContainer>
Index: FE/src/screens/Practice/Exercises/Item/index.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React from \"react\";\nimport { Image, StyleSheet, Text, TextInput, TouchableHighlight } from \"react-native\";\nimport { View } from \"react-native\";\nimport CustomText from \"../../../../components/CustomText\";\nconst Item = ({ data, navigation }) => {\n  return (\n      <View style={styles.container}>\n        <Image\n          style={styles.image}\n          source={{\n            uri: \"https://cdn-icons-png.flaticon.com/512/2554/2554042.png\",\n          }}\n        />\n        <View>\n          <Text numberOfLines={1} style={[styles.title]}>\n            {data.title}\n          </Text>\n          <CustomText style={[{ fontSize: 14 }]}>\n            {`Thời gian: ${data.duration}`}\n          </CustomText>\n          <CustomText style={[{ fontSize: 14 }]}>\n            {`Tiêu thụ: ${data.kalo} kalo`}\n          </CustomText>\n        </View>\n      </View>\n  );\n};\n\nexport default Item;\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingHorizontal: 15,\n    paddingVertical: 5,\n    marginVertical: 6,\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    height: 80,\n    backgroundColor: \"white\",\n    borderRadius: 10,\n  },\n  image: {\n    height: \"100%\",\n    width: \"30%\",\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: 500,\n    width: 265,\n    fontFamily: \"NunitoSans-Regular\",\n    color: \"rgba(255, 162, 57, 1)\",\n    marginBottom: 2,\n  },\n});\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FE/src/screens/Practice/Exercises/Item/index.js b/FE/src/screens/Practice/Exercises/Item/index.js
--- a/FE/src/screens/Practice/Exercises/Item/index.js	(revision 23b7d283528d96e41405a7fc2be93931e3e7969c)
+++ b/FE/src/screens/Practice/Exercises/Item/index.js	(date 1683204234688)
@@ -1,28 +1,34 @@
 import React from "react";
-import { Image, StyleSheet, Text, TextInput, TouchableHighlight } from "react-native";
+import {
+  Image,
+  StyleSheet,
+  Text,
+  TextInput,
+  TouchableHighlight,
+} from "react-native";
 import { View } from "react-native";
 import CustomText from "../../../../components/CustomText";
 const Item = ({ data, navigation }) => {
   return (
-      <View style={styles.container}>
-        <Image
-          style={styles.image}
-          source={{
-            uri: "https://cdn-icons-png.flaticon.com/512/2554/2554042.png",
-          }}
-        />
-        <View>
-          <Text numberOfLines={1} style={[styles.title]}>
-            {data.title}
-          </Text>
-          <CustomText style={[{ fontSize: 14 }]}>
-            {`Thời gian: ${data.duration}`}
-          </CustomText>
-          <CustomText style={[{ fontSize: 14 }]}>
-            {`Tiêu thụ: ${data.kalo} kalo`}
-          </CustomText>
-        </View>
-      </View>
+    <View style={styles.container}>
+      <Image
+        style={styles.image}
+        source={{
+          uri: "https://cdn-icons-png.flaticon.com/512/2554/2554042.png",
+        }}
+      />
+      <View>
+        <Text numberOfLines={1} style={[styles.title]}>
+          {data.title}
+        </Text>
+        <CustomText style={[{ fontSize: 14 }]}>
+          {`Thời gian: ${data.duration}`}
+        </CustomText>
+        <CustomText style={[{ fontSize: 14 }]}>
+          {`Tiêu thụ: ${data.kalo} kalo`}
+        </CustomText>
+      </View>
+    </View>
   );
 };
 
